# x) Tiivistelmät

# a) Valitse valmis hyökkäys. Ota sellainen hyökkäys, jonka saat toimimaan omaan paikalliseen harjoitusmaaliin, kuten Metasploitableen. Demonstroi hyökkäyksen toiminta.

Tässä tehtävässä valitsin hyökkäykseksi samban. Aloitin hyökkäyksen msfconsolessa komennolla `search samba` ja tämän jälkeen valitsin `use multi/samba/usermap_script`. Asetin RHOSTS-muuttujaksi kohteen ip-osoitteen ja LHOST-muuttujaan hyökkäävän koneen ip-osoitteen. Lopuksi käynnistin hyökkäyksen komennolla `run`. 

![Screenshot](https://github.com/user-attachments/assets/46b6b478-aaa5-4414-a231-7ecfa06b1abc)


# b) Sorsa. Selitä ja arvioi valitsemasi hyökkäyksen toimintaa lähdekoodista.

Lähdekoodista löytyy kaksi metodia: initialize ja exploit. Initialize-metodissa on kerrottu, mitä hyökkäys tekee. Siinä kuvaillaan, että Samban tietyissä versioissa on haavoittuvuus, jossa hyökkääjä voi käyttää tietyllä tavalla muotoiltua käyttäjänimeä ja se tulkitaan shell-komentona.

![Screenshot](https://github.com/user-attachments/assets/9d45dfea-ff85-4f93-904e-e778a605c932)

Exploit-metodissa 

![Screenshot](https://github.com/user-attachments/assets/432aa3f1-0c9f-443b-ae28-68503b3b2549)



# c) Snif snif. Selitä ja arvioi valitsemasi hyökkäyksen toimintaa verkkosnifferillä. Pohdi myös, miten näkyvä tämä hyökkäys tai kontrollikanava on verkossa. (Vapaaehtoinen bonus: liitä mukaan pcap tekemästäsi nauhoituksesta).

Käynnistin wiresharkissa terminaalin komennolla `wireshark .`. Valitsin verkoksi eth1 ja aloin kaapata liikennettä. 

![Screenshot](https://github.com/user-attachments/assets/c2be2492-1dee-4fff-a31f-926580660f5d)

Kuvassa näkyy aluksi tcp:n kolmivaiheinen kättely: SYN, SYN-ACK, ACK. Tämän jälkeen näkyy SMB neuvottelupaketteja, joiden avulla sovitaan käytettävästä SMB-versiosta. Seuraavaksi vaaleansinisellä näkyy hyökkäyksen varsinainen osa, jossa hyökkääjä lähettä tietyllä tavalla muotoillun käyttäjänimen.


# d) Fuzzzz. Ratkaise dirfuz-1 artikkelista Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf.
